(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-402866ab"],{"08e9":function(t,e,n){},"0dce":function(t,e,n){"use strict";var a=n("9d89");n.n(a).a},1686:function(t,e,n){"use strict";n.r(e);var a=(n("6b54"),n("a481"),n("96cf"),n("3b8d")),i=n("365c"),r=n("0f06").api,s={headers:{"Content-Type":"multipart/form-data"}},c=function(t){return i.a.get("".concat(r,"/web/tops"),{params:t})},o=function(t){var e=new FormData;for(var n in t)e.append(n,t[n]);return i.a.post("".concat(r,"/web/tops"),e,s)},l=function(t){return i.a.get("".concat(r,"/article/tops"),{params:t})},u=function(t){var e=new FormData;for(var n in t)e.append(n,t[n]);return i.a.post("".concat(r,"/article/tops"),e,s)},p={props:{query:{type:null,default:function(){return null}}},data:function(){return{btnGroup:[{label:"近7天",value:7},{label:"近30天",value:30},{label:"近90天",value:90}],date:"",chartData:{columns:["日期","排名"],rows:[]},visible:!1,screeningOption:null,activeScreeningOption:null}},created:function(){this.activeScreeningOption=this.btnGroup[0],this.show()},methods:{show:function(){var t=Object(a.a)(regeneratorRuntime.mark(function t(){var e,n,a,i,r=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!(r.length>0&&void 0!==r[0])||r[0],n=null,!e){t.next=17;break}t.t0=this.query.origin,t.next="websiteList"===t.t0?7:"articleList"===t.t0?11:15;break;case 7:return t.next=9,c(Object.assign({},this.query,{date:this.activeScreeningOption.value}));case 9:return n=t.sent,t.abrupt("break",15);case 11:return t.next=13,l(Object.assign({},this.query,{date:this.activeScreeningOption.value}));case 13:return n=t.sent,t.abrupt("break",15);case 15:t.next=28;break;case 17:t.t1=this.query.origin,t.next="websiteList"===t.t1?20:"articleList"===t.t1?24:28;break;case 20:return t.next=22,o(Object.assign({},this.query,this.activeScreeningOption,{date:""}));case 22:return n=t.sent,t.abrupt("break",28);case 24:return t.next=26,u(Object.assign({},this.query,{date:this.activeScreeningOption.value}));case 26:return n=t.sent,t.abrupt("break",28);case 28:for(a in this.chartData.rows=[],n.data.data)i=new Date(1e3*parseInt(n.data.data[a].CreateTime)).toLocaleString().replace(/:\d{1,2}$/," "),this.$set(this.chartData.rows,a,{"日期":i,"排名":n.data.data[a].top});case 32:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),changeOption:function(t){this.screeningOption=t,this.date=""},confirm:function(){this.date?(this.activeScreeningOption={label:this.date.toString(),star_time:this.date[0],end_time:this.date[1]},this.show(!1)):(this.activeScreeningOption=this.screeningOption,this.show()),this.visible=!1,this.date=""}}},d=(n("0dce"),n("f813"),n("2877")),b=Object(d.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"historicalRankingContainer"},[n("div",{staticClass:"historicalRankingContent"},[n("el-popover",{attrs:{placement:"bottom-start",width:"400",trigger:"manual"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("div",{staticStyle:{padding:"10px"}},[n("p",{staticStyle:{"margin-bottom":"8px"}},[t._v("快捷筛选")]),n("div",{staticStyle:{"margin-bottom":"16px",width:"100%",display:"flex","justify-content":"space-between"}},t._l(t.btnGroup,function(e,a){return n("el-button",{key:a,on:{click:function(n){return t.changeOption(e)}}},[t._v(t._s(e.label))])}),1),n("p",{staticStyle:{"margin-bottom":"8px"}},[t._v("日期筛选")]),n("el-date-picker",{staticStyle:{width:"100% !important"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),n("div",{staticStyle:{"margin-top":"26px",display:"flex","justify-content":"center"}},[n("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),n("el-button",{staticStyle:{"margin-left":"26px"},attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确定")])],1)],1),n("el-button",{attrs:{slot:"reference"},on:{click:function(e){t.visible=!0}},slot:"reference"},[t._v(t._s(t.activeScreeningOption.label))])],1),n("ve-line",{attrs:{data:t.chartData}})],1)])},[],!1,null,"1c32abf0",null);e.default=b.exports},"9d89":function(t,e,n){},f813:function(t,e,n){"use strict";var a=n("08e9");n.n(a).a}}]);